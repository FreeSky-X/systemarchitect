# 2.9.3性能设计

## 1.性能调整

当系统性能降到最基本的水平时，性能调整由查找和消除瓶颈组成。对于数据库系统，性能调整主要包括 CPUI 内存使用状况，优化数据库设计。优化数据库管理以及进程/线程状态 硬盘剩余空间。日志文件大小等；  对于应用系统。性能调整主要包括应用系统的可用性。响应时间，并发用户数以及特定应用的系统资源占用等。

在开始性能调整之前。必须做的准备工作有识别约束。指定负载。设置性能目标。在建立了性能调整的边界和期望值后。就可以开始调整了，这是一系列重复的受控的性能试验。循环的调整过程为收集。分析配置和测试。

## 2.阿姆达尔解决方案

阿姆达尔 （Amdahl） 定律是指计算机系统中对某一部件采用某种更快的执行方式所获得的系统性能改娈程度。取决于这种方式被使用的频率，或所占总执行时间的比例。

阿姆达尔定律定义了采用特定部件所取得的加速比。假定入们使用某种增强部件，计算机的性能就会得到提高。加速比定义如下：
$$
加速比=\frac{不使用增强部件时完成整个任务的时间}{使用增强部件时完成整个任务的时间} \tag{2-2}
$$




加速比反映了使用增强部件后完成一个任务比不使用增强部件完成同一任务加快了多少。加速比主要取决于两个因素：

（1） 在原有的计算机上。能被改进并增强的部分在总执行时间中所占的比例。这个值称为增强比例。它永远小于等于1。

（2）通过增强的执行方式所取得的改进，即如果整个程序使用了增强的执行方式。那么这个任务的执行速度会有多少提高，这个值是在原来条件下程序的执行时间与使用增强功能后程序的执行时间之比。

原来的机器使用了增强功能后，执行时间等于未改进部分的执行时间加上改进部分的执行时间。
$$
新的执行时间=原来的执行时间\times \{(1-增强比例)+\frac{增强比例}{增强加速比} \} \tag{2-3}
$$




总加速比等于两种执行时间的比：
$$
总加速比 =\frac{原来的执行时间}{新的执行时间}=\frac{1}{\{(1-增强比例)+\frac{增强比例}{增强加速比}\}} \tag{2-4}
$$
